<!DOCTYPE html>
<html lang="uz">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Krist - Modern Fashion Store | Sifatli kiyimlar va kosmetika</title>
    <meta name="description" content="Krist - eng zamonaviy ayollar to'plami, aksessuarlar va sifatli kosmetika do'koni. O'zbekiston bo'ylab yetkazib berish.">
    <meta name="keywords" content="Krist, onlayn do'kon, kiyim-kechak, kosmetika, ayollar kiyimi, moda, Toshkent, O'zbekiston">
    
    <!-- Open Graph (Ijtimoiy tarmoqlar uchun) -->
    <meta property="og:title" content="Krist - Sifatli kosmetika va kiyimlar do'koni">
    <meta property="og:description" content="Eng sara kosmetika mahsulotlari va zamonaviy liboslar to'plami. O'zbekiston bo'ylab yetkazib berish.">
    <meta property="og:image" content="https://images.unsplash.com/photo-1522335789203-aabd1fc54bc9?w=1200">
    <meta property="og:url" content="https://krist-shop.uz">
    <meta name="twitter:card" content="summary_large_image">

    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="modal.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="https://unpkg.com/aos@next/dist/aos.css" />
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
</head>
<body>
    <header class="main-header">
        <div class="header-container">
            <div class="hamburger" id="hamburger" style="display:none; cursor:pointer; font-size:24px;">
                <i class="fas fa-bars"></i>
            </div>
            <div class="logo">Krist</div>
            <nav class="nav-menu" id="navMenu">
                <a href="index.html" data-i18n="nav-home">Home</a>
                <div class="dropdown">
                    <a href="#products" data-i18n="nav-shop">Shop <i class="fas fa-chevron-down"></i></a>
                    <div class="dropdown-content">
                        <a href="#products" onclick="filterByCategory('Yuz parvarishi')">Yuz parvarishi</a>
                        <a href="#products" onclick="filterByCategory('Makiyaj')">Makiyaj</a>
                        <a href="#products" onclick="filterByCategory('Atirlar')">Atirlar</a>
                        <a href="#products" onclick="filterByCategory('Soch parvarishi')">Soch parvarishi</a>
                    </div>
                </div>
                <a href="#services" data-i18n="nav-story">Our Story</a>
                <a href="#footer" data-i18n="nav-contact">Contact Us</a>
            </nav>
            <div class="header-actions">
                <select id="langSelect" class="lang-select">
                    <option value="uz">UZ</option>
                    <option value="en">EN</option>
                    <option value="ru">RU</option>
                </select>
                <div class="theme-toggle" onclick="toggleTheme()" style="cursor:pointer; font-size:18px;">
                    <i id="themeIcon" class="fas fa-moon"></i>
                </div>
                <div class="search-box" style="position:relative;">
                    <input type="text" id="searchInput" placeholder="Qidiruv..." autocomplete="off">
                    <i class="fas fa-search"></i>
                    <!-- Autocomplete Dropdown -->
                    <div id="searchAutocomplete" class="dropdown-content" style="width:250px; top:100%; right:0; max-height:300px; overflow-y:auto; padding:10px;"></div>
                </div>
                <div class="wishlist-icon" onclick="showWishlist()" style="position:relative; cursor:pointer;">
                    <i class="far fa-heart"></i>
                    <span id="wishCount" style="position:absolute; top:-10px; right:-10px; background:var(--primary-color); color:white; font-size:10px; padding:2px 5px; border-radius:50%;">0</span>
                </div>
                <div class="cart-btn" id="cartBtn" onclick="toggleCartModal(true)" style="position:relative; cursor:pointer;">
                    <i class="fas fa-shopping-bag"></i>
                    <span id="cartCount" style="position:absolute; top:-10px; right:-10px; background:red; color:white; font-size:10px; padding:2px 5px; border-radius:50%;">0</span>
                </div>
                <a href="profile.html" class="user-profile-link">
                    <img id="navAvatar" src="https://images.unsplash.com/photo-1494790108377-be9c29b29330?w=150" alt="U" style="width:35px; height:35px; border-radius:50%; object-fit:cover; border:1px solid #ddd;">
                </a>
            </div>
        </div>
    </header>

    <script>
        // Navbardagi rasmni yangilash
        const userData = JSON.parse(localStorage.getItem('krist_user'));
        if (userData && userData.avatar) {
            document.getElementById('navAvatar').src = userData.avatar;
        }
    </script>

    <main>
        <!-- Hero Section -->
        <section id="home" class="hero-krist">
            <div class="hero-text">
                <p class="hero-sub" data-i18n="hero-sub">Classic Exclusive</p>
                <h1 data-i18n="hero-title">Women's Collection</h1>
                <p class="hero-off" data-i18n="hero-off">UPTO 40% OFF</p>
                <a href="#products" class="shop-now-btn">
                    <span data-i18n="shop-now">Shop Now</span> <i class="fas fa-arrow-right"></i>
                </a>
            </div>
            <div class="hero-image">
                <img src="https://images.unsplash.com/photo-1515886657613-9f3515b0c78f?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80" alt="Hero">
            </div>
        </section>

        <!-- Shop by Categories -->
        <section class="categories-section">
            <h2 class="section-title-krist" data-i18n="category-title">Shop by Categories</h2>
            <div class="categories-grid">
                <div class="category-item" onclick="filterByCategory('Yuz parvarishi')">
                    <img src="https://images.unsplash.com/photo-1570172619644-dfd03ed5d881?w=400" alt="Yuz parvarishi">
                    <div class="category-tag">Yuz parvarishi</div>
                </div>
                <div class="category-item" onclick="filterByCategory('Makiyaj')">
                    <img src="https://images.unsplash.com/photo-1522335789203-aabd1fc54bc9?w=400" alt="Makiyaj">
                    <div class="category-tag">Makiyaj</div>
                </div>
                <div class="category-item" onclick="filterByCategory('Atirlar')">
                    <img src="https://images.unsplash.com/photo-1541643600914-78b084683601?w=400" alt="Atirlar">
                    <div class="category-tag">Atirlar</div>
                </div>
                <div class="category-item" onclick="filterByCategory('Soch parvarishi')">
                    <img src="https://images.unsplash.com/photo-1527799822340-304bc6475a6c?w=400" alt="Soch parvarishi">
                    <div class="category-tag">Soch parvarishi</div>
                </div>
            </div>
        </section>

        <!-- Our Bestseller -->
        <section id="products" class="bestseller-section">
            <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:40px; flex-wrap:wrap; gap:20px;">
                <h2 class="section-title-krist" data-i18n="bestseller-title" style="margin:0;">Our Bestseller</h2>
                <div class="filter-options" style="display:flex; gap:10px; align-items:center;">
                    <button onclick="renderPage(1); filteredProducts = [...allProducts]; renderPage(1);" class="lang-select" style="border:1px solid #ddd; padding:8px 15px; border-radius:5px; cursor:pointer; font-size:13px; background:var(--card-bg); color:var(--text-color);">Hammasi</button>
                    <select id="priceSort" class="lang-select" onchange="sortProducts(this.value)" style="border:1px solid #ddd; padding:8px 15px; border-radius:5px; background:var(--card-bg); color:var(--text-color);">
                        <option value="" data-i18n="sort-title">Saralash</option>
                        <option value="low" data-i18n="sort-low">Arzonroq</option>
                        <option value="high" data-i18n="sort-high">Qimmatroq</option>
                        <option value="new" data-i18n="sort-new">Yangi</option>
                    </select>
                    <select id="priceFilter" class="lang-select" style="border:1px solid #ddd; padding:8px 15px; border-radius:5px; background:var(--card-bg); color:var(--text-color);">
                        <option value="all">Narxlar</option>
                        <option value="0-50"> $0 - $50</option>
                        <option value="51-100">$51 - $100</option>
                        <option value="101+">$101 dan yuqori</option>
                    </select>
                </div>
            </div>
            <div class="product-grid-krist" id="productGrid">
                <!-- JS will fill this -->
            </div>
            
            <!-- Pagination Controls -->
            <div id="pagination" style="display:flex; justify-content:center; gap:10px; margin-top:40px;"></div>
        </section>

        <!-- Wishlist Modal -->
        <div id="wishlistModal" class="modal">
            <div class="modal-content">
                <span class="close" onclick="closeWishlist()">&times;</span>
                <h2>Sizning Saralanganlaringiz</h2>
                <div id="wishlistItems" style="margin-top:20px;"></div>
                <button class="btn-primary-krist" style="margin-top:20px;" onclick="closeWishlist()">Yopish</button>
            </div>
        </div>


    </main>

    <footer id="footer" class="footer-krist">
        <div class="footer-main">
            <div class="footer-brand">
                <div class="logo white">Krist</div>
                <p>(704) 555-0127</p>
                <p>krist@example.com</p>
                <p>3891 Ranchview Dr. Richardson, California 62639</p>
            </div>
            <div class="footer-links">
                <h4 data-i18n="footer-info">Information</h4>
                <a href="profile.html">My Account</a>
                <a href="register.html">Login</a>
                <a href="#">My Wishlist</a>
                <a href="checkout.html">Checkout</a>
            </div>
            <div class="footer-links">
                <h4 data-i18n="footer-service">Service</h4>
                <a href="#">About Us</a>
                <a href="#">Careers</a>
                <a href="#">Delivery Information</a>
                <a href="#">Privacy Policy</a>
            </div>
            <div class="footer-subscribe">
                <h4 data-i18n="footer-subscribe">Subscribe</h4>
                <p>Enter your email below to be the first to know about new collections.</p>
                <div class="subscribe-box">
                    <i class="far fa-envelope"></i>
                    <input type="email" placeholder="Your Email">
                    <button><i class="fas fa-arrow-right"></i></button>
                </div>
            </div>
        </div>
        <div class="footer-bottom-krist">
            <p>Â©2023 Krist All Rights are reserved</p>
            <div class="socials">
                <i class="fab fa-facebook-f"></i>
                <i class="fab fa-instagram"></i>
                <i class="fab fa-twitter"></i>
            </div>
        </div>
    </footer>

    <div id="cartModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="toggleCartModal(false)">&times;</span>
            <h2>Savatchangiz</h2>
            <div id="cartItems"></div>
            <div class="cart-total">Total: <span id="cartTotalSum">0</span> so'm</div>
            <button class="btn-primary-krist" onclick="goToCheckout()">Order Now</button>
        </div>
    </div>

    <script>
        function goToCheckout() {
            const cart = JSON.parse(localStorage.getItem('krist_cart')) || [];
            if (cart.length > 0) {
                window.location.href = 'checkout.html';
            } else {
                alert("Savatchangiz bo'sh!");
            }
        }
    </script>

    <!-- Support Button -->
    <a href="https://t.me/your_telegram_username" target="_blank" class="floating-support" title="Yordam kerakmi?">
        <i class="fab fa-telegram-plane"></i>
    </a>

    <script src="script.js"></script>
    <script src="cart.js"></script>
    <script src="https://unpkg.com/aos@next/dist/aos.js"></script>
    <script>
      AOS.init({
        duration: 1000,
        once: true
      });
    </script>
</body>
</html>
